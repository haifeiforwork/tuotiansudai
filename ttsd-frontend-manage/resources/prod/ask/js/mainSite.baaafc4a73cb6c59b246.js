!function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="/",t(0)}([function(e,t,n){"use strict";var i=n(1);n(2),n(16),n(17),(0,i.refreshCaptcha)("/captcha")},function(e,t){"use strict";function n(e){$("#imageCaptcha").on("click",function(){var t=e+"?"+(new Date).getTime().toString();this.value="",this.setAttribute("src",t)})}function i(e,t){var n=e.length;n&&e.each(function(e,n){var i=$(this);i.is(":checked")&&i.next("label").addClass("checked"),i.next("label").click(function(){var e=$(this);/checked/.test(this.className)||(t.removeClass("checked"),e.addClass("checked"))})})}function a(e){var t={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江 ",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北 ",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏 ",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外 "},n=!0;if(e&&/\d{17}[\d|x]/i.test(e))if(t[e.substr(0,2)]){if(18==e.length){e=e.split("");for(var i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],a=[1,0,"X",9,8,7,6,5,4,3,2],o=0,r=0,s=0,c=0;c<17;c++)r=e[c],s=i[c],o+=r*s;a[o%11]!=e[17]&&(n=!1)}}else n=!1;else n=!1;return n}function o(e){var t=e.substring(6,14),n=new Date,i=!0,a=n.getFullYear(),o=n.getMonth()+1,r=n.getDate(),s=a+""+(o<10?"0"+o:o)+(r<10?"0"+r:r),c=Math.floor((s-t)/1e4);return c<18&&(i=!1),i}function r(e,t){var n=$('<div class="shade-body-mask"></div>'),i=$(e),a=$.extend({width:"460px",height:"370px"},t);i.css({width:a.width,height:a.height});var o=function(){var e=(document.body.scrollTop||document.documentElement.scrollTop,$(window).height()-i.height()),t=$(window).width()-i.width();i.css({top:e/2,left:t/2}),n.height($("body").height()),$("body").append(i).append(n)};o(),$(".close-btn,.go-close",i).on("click",function(){i.remove(),n.remove()})}function s(){var e=$.Deferred();return $.ajax({url:"/isLogin",type:"GET"}).done(function(t){t?e.reject(t):e.resolve()}).fail(function(){e.reject()}),e.promise()}function c(e,t,n){var i={type:"POST",dataType:"json"},a=$.extend(i,e);$(document).ajaxSend(function(e,t,n){var i=$("meta[name='_csrf']").attr("content"),a=$("meta[name='_csrf_header']").attr("content");t.setRequestHeader(a,i)}),$(document).ajaxError(function(e,t,n,i){if(403==t.status&&t.responseText){var a=JSON.parse(t.responseText);window.location.href=a.directUrl+(a.refererUrl?"?redirect="+a.refererUrl:"")}}),$.ajax(a).done(function(e){t&&t(e)}).fail(function(e){}).always(function(){n&&n()})}function d(e,t){var n={btnDom:"",time:60,textCounting:"秒后重新发送"},i=$.extend({},n,e),a=void 0,o=i.btnDom,r=function(){o.text(i.time--+i.textCounting).prop("disabled",!0).addClass("count-downing"),0==i.time&&(clearInterval(a),t&&t(),o.text("重新发送").prop("disabled",!1).removeClass("count-downing"))};i.time>0&&(r(),o.val(i.textCounting),a=setInterval(function(){r()},1e3))}Object.defineProperty(t,"__esModule",{value:!0});var l={MathFloor:function(e){var t=/([0-9]+\.[0-9]{2})[0-9]*/,n=e+"",i=n.replace(t,"$1");return i},MathRound:function(e){var t=Math.round(100*e)/100;return t}},h={compile:function(e,t){for(var n=t+"",i=n.split(""),a=(n.length,0);a<11;a++)i[2*a+2]=n[a]?n[a]:"a";return i.join("")},uncompile:function(e){for(var t=e+"",n=t.split(""),i=[],a=0;a<11;a++)i[a]=n[2*a+2];var o=i.join(""),r=o.match(/\d/gi);return r.join("")}};t.refreshCaptcha=n,t.initRadio=i,t.IdentityCodeValid=a,t.checkedAge=o,t.popWindow=r,t.isUserLogin=s,t.useAjax=c,t.countDownLoan=d,t.MathDecimal=l,t.decrypt=h},function(e,t){},,,,,,,,,,,,,,function(e,t){"use strict";var n=$(".hot-question-category");n.find(".m-title").on("click",function(){n.find(".qa-list").toggle()});var i=$("#homeTagContainer"),a=window.location.href,o=globalFun.parseURL(a);if(i.length){var r,s=$(".switch-menu li",i);switch(r=o.params.group?o.params.group.toUpperCase():""){case"UNRESOLVED":s.eq(1).addClass("active");break;case"HOT":s.eq(2).addClass("active");break;default:s.eq(0).addClass("active")}}var c=$("#searchResultBox");if(c.length){var d=$(".answers-list",c),l=o.params.keyword;l&&$("#searchBoxTool .input-search").val(decodeURI(l)),d.find("dt a").each(function(e,t){var n=$(this),i=$(t).html(),a=new RegExp("("+l+")","gi"),o=i.replace(a,"<i style='color:red;'>$1</i>");n.html(o)})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(1),o=n(18),r=i(o),s=$("#createQuestion"),c=$("#questionDetailTag"),d={showError:function(e,t){e.parent().find(".error").text(t).show()},hideError:function(e,t){e.parent().find(".error").hide()},validLen:function(e,t,n){var t=t||!1,n=n||!1,i=$.trim(e.val()),a=i.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\s/g,"　"),o=i.replace(/\n/g,"").replace(/\r/g,"").replace(/\s/g,""),r=a.split("").length,d=e[0].name,l=e.parent().find(".words-tip"),h=e.parents("form").find(".formSubmit"),u="";switch(d){case"question":u="请描述您的问题",l.removeClass("error").find("em").text(r),r<t||0==o.length||0==r?(u="您的问题不能为空",y=!1,this.showError(e,u),l.addClass("red-color")):r>n?(u="您的问题不能超过"+n+"个字符",y=!1,this.showError(e,u),l.addClass("red-color")):(this.hideError(e),y=!0,l.removeClass("red-color"));break;case"addition":l.removeClass("error").find("em").text(r),r<t||0==o.length||0==r?(u="问题补充不能为空",C=!1,this.showError(e,u),l.addClass("red-color")):r>n?(u="问题补充不能超过"+n+"个字符",C=!1,this.showError(e,u),l.addClass("red-color")):(this.hideError(e),C=!0,l.removeClass("red-color"));break;case"captcha":u="请输入正确的验证码",/^\d{5}$/.test(i)?(this.hideError(e),v=!0):(v=!1,this.showError(e,u));break;case"answer":r<t||0==o.length||0==r?(u="回答不得少于10个字",f=!1,this.showError(e,u)):r>n?(u="回答不能超过"+n+"个字符",f=!1,this.showError(e,u)):(this.hideError(e),f=!0)}s.length&&(k&&y&&C&&v?h.prop("disabled",!1):h.prop("disabled",!0)),c.length&&(v&&f?h.prop("disabled",!1):h.prop("disabled",!0))},radioChecked:function(e){var t=$("input.tag:checked").length;t>0?(this.hideError(e),k=!0,t>3&&e.prop("checked",!1)):(this.showError(e),k=!1),k&&y&&C&&v?b.prop("disabled",!1):b.prop("disabled",!0)}};if($.fn.checkFrom=function(){return this.each(function(){var e=$(this),t=this.name;e.val();switch(t){case"question":d.validLen(e,1,100);break;case"addition":d.validLen(e,1,500);break;case"captcha":d.validLen(e,5,5);break;case"answer":d.validLen(e,10,1e3);break;default:d.radioChecked(e)}})},$.fn.autoTextarea=function(e){var t={maxHeight:null,minHeight:$(this).height()},n=$.extend({},t,e);return $(this).each(function(){$(this).bind("paste cut keydown keyup focus blur",function(){var e,t=this.style;this.style.height=n.minHeight+"px",this.scrollHeight>n.minHeight&&(n.maxHeight&&this.scrollHeight>n.maxHeight?(e=n.maxHeight,t.overflowY="scroll"):(e=this.scrollHeight,t.overflowY="hidden"),t.height=e+"px")})})},c.length){var l=$(".formAnswer",c),h=$(".answer-button",c),u=$(".to-answer-box",c),p=$(".formSubmit",l),f=!1,v=!1;h.find("button").on("click",function(e){u.toggle()}),l.find("input.captcha").on("keyup",function(){$(this).checkFrom()}),l.find("textarea.answer").on("keyup",function(){$(this).checkFrom()}),l.find("textarea.answer").autoTextarea({maxHeight:800,minHeight:100}),p.on("click",function(e){var t=l.find("textarea").val();e.preventDefault();var n=t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\s/g,"　");l.find("textarea").val(n),(0,a.useAjax)({url:"/answer",data:l.serialize(),beforeSend:function(){p.prop("disabled",!0)}},function(e){var t=e.data;p.prop("disabled",!1),t.status?((0,r.default)("","回答成功!",{width:"200px"},!0),setTimeout(function(){$(".popWindow,.popWindow-overlay").fadeOut(),window.location.reload()},3e3)):((0,a.refreshCaptcha)(),t.isCaptchaValid?t.isAnswerSensitiveValid||l.find(".answer").next().show().text("您输入的内容不能包含敏感词"):l.find(".captcha").parent().find(".error").show().text("验证码错误"))})}),$(".mark-this-answer",c).on("click",function(){var e=$(this),t=e.next(".answerId").data("id");(0,a.useAjax)({url:"/answer/"+t+"/best"},function(e){var t=e.data;t.status&&((0,r.default)("","成功采纳此条信息!",{width:"200px"},!0),setTimeout(function(){$(".popWindow,.popWindow-overlay").fadeOut(),window.location.reload()},3e3))})}),$(".agree-ok",c).on("click",function(){var e=$(this),t=$.trim(e.text()),n=e.parent().find(".answerId").data("id");(0,a.useAjax)({url:"/answer/"+n+"/favor"},function(n){n.data.status&&(e.addClass("active"),e.text(t-0+1))})}),$(".agree-ok-no",c).on("click",function(){(0,r.default)("",'<span class="clearfix">需要登录才能点赞哦～ </span><a href="https://tuotiansudai.com/login" class="btn-normal to-login">去登录</a>',{width:"400px"})})}if(s.length){var w=$(".form-question",s),g=$(".ask-con",s),m=$(".addition",s),x=$(".captcha",s),b=$(".formSubmit",w),k=!1,y=!1,C=!0,v=!1;w.find("input.ask-con,input.tag").on("change keyup",function(e){$(this).checkFrom()}),m.on("keyup",function(){$(this).checkFrom()}),x.on("keyup",function(){$(this).checkFrom()}),w.find("textarea").autoTextarea({maxHeight:800,minHeight:100}),b.on("click",function(e){var t=w.find("textarea").val();e.preventDefault();var n=t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\s/g,"　");w.find("textarea").val(n),(0,a.useAjax)({url:"/question",data:w.serialize(),beforeSend:function(e){b.prop("disabled",!0)}},function(e){var t=e.data;if(b.prop("disabled",!1),t.status)location.href="question/my-questions";else if((0,a.refreshCaptcha)(),t.isCaptchaValid){if(!t.isQuestionSensitiveValid)return void g.next().show().text("您输入的内容不能包含敏感词");t.isQuestionSensitiveValid&&!t.isAdditionSensitiveValid&&m.next().show().text("您输入的内容不能包含敏感词")}else x.parent().find(".error").show().text("验证码错误")})})}},function(e,t){"use strict";function n(e,t,n,i){var a=!!i;if($(".popWindow").length)$(".popWindow-overlay,.popWindow").show();else{var o=[];o.push('<div class="popWindow-overlay"></div>'),o.push('<div class="popWindow"> <div class="pop-title">'+e+'<em class="close" ></em></div> <p>'+t+"</p></div>"),$("body").append(o.join(""));var r=$(".popWindow"),n=$.extend({width:"560px"},n);r.css({width:n.width});var s=function(){var e=document.body.scrollTop||document.documentElement.scrollTop,t=$(window).height()-r.height(),n=$(window).width()-r.width();r.css({top:t/2+e,left:n/2}),$(".popWindow-overlay").css({height:$("body").height()})};s(),$(window).resize(function(){s()});document.all?"mousewheel":"DOMMouseScroll";$(window).bind("mousewheel",function(){s()}),r.on("click",".close",function(){$(".popWindow-overlay,.popWindow").hide(),a&&window.location.reload()})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}]);