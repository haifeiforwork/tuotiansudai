webpackJsonp([0],{0:function(t,e,a){"use strict";var n=a(!function(){var t=new Error('Cannot find module "publicJs/common"');throw t.code="MODULE_NOT_FOUND",t}());a(1),a(15),a(17),a(18),(0,n.refreshCaptcha)("/captcha")},1:function(t,e){},15:function(t,e,a){(function(t){"use strict";t.fn.checkFrom=function(){return this.each(function(){var e=t(this),a=this.name;e.val();switch(a){case"question":utils.validLen(e,1,100);break;case"addition":utils.validLen(e,1,500);break;case"captcha":utils.validLen(e,5,5);break;case"answer":utils.validLen(e,10,1e3);break;default:utils.radioChecked(e)}})},t.fn.autoTextarea=function(e){var a={maxHeight:null,minHeight:t(this).height()},n=t.extend({},a,e);return t(this).each(function(){t(this).bind("paste cut keydown keyup focus blur",function(){var t,e=this.style;this.style.height=n.minHeight+"px",this.scrollHeight>n.minHeight&&(n.maxHeight&&this.scrollHeight>n.maxHeight?(t=n.maxHeight,e.overflowY="scroll"):(t=this.scrollHeight,e.overflowY="hidden"),e.height=t+"px")})})}}).call(e,a(16))},17:function(t,e,a){(function(t){"use strict";var e=a(!function(){var t=new Error('Cannot find module "publicJs/global_page"');throw t.code="MODULE_NOT_FOUND",t}()),n=t(".hot-question-category");n.find(".m-title").on("click",function(){n.find(".qa-list").toggle()});var i=t("#homeTagContainer"),o=window.location.href,r=e.globalFun.parseURL(o);if(i.length){var c,s=t(".switch-menu li",i);switch(c=r.params.group?r.params.group.toUpperCase():""){case"UNRESOLVED":s.eq(1).addClass("active");break;case"HOT":s.eq(2).addClass("active");break;default:s.eq(0).addClass("active")}}var l=t("#searchResultBox");if(l.length){var d=t(".answers-list",l),u=r.params.keyword;u&&t("#searchBoxTool .input-search").val(decodeURI(u)),d.find("dt a").each(function(e,a){var n=t(this),i=t(a).html(),o=new RegExp("("+u+")","gi"),r=i.replace(o,"<i style='color:red;'>$1</i>");n.html(r)})}}).call(e,a(16))},18:function(t,e,a){(function(t){"use strict";var e=(a(!function(){var t=new Error('Cannot find module "publicJs/common"');throw t.code="MODULE_NOT_FOUND",t}()),t("#createQuestion")),n=t("#questionDetailTag");if(n.length){var i=t(".formAnswer",n),o=t(".answer-button",n),r=t(".to-answer-box",n),c=t(".formSubmit",i);o.find("button").on("click",function(t){r.toggle()}),i.find("input.captcha").on("keyup",function(){t(this).checkFrom()}),i.find("textarea.answer").on("keyup",function(){t(this).checkFrom()}),i.find("textarea.answer").autoTextarea({maxHeight:800,minHeight:100}),c.on("click",function(e){var a=i.find("textarea").val();e.preventDefault();var n=a.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\s/g,"　");i.find("textarea").val(n),t.ajax({url:"/answer",data:i.serialize(),type:"POST",dataType:"json",beforeSend:function(){c.prop("disabled",!0)}}).done(function(e){var a=e.data;a.status?(comm.popWindow("","回答成功!",{width:"200px"},!0),setTimeout(function(){t(".popWindow,.popWindow-overlay").fadeOut(),window.location.reload()},3e3)):(refreshCaptcha(),a.isCaptchaValid?a.isAnswerSensitiveValid||i.find(".answer").next().show().text("您输入的内容不能包含敏感词"):i.find(".captcha").parent().find(".error").show().text("验证码错误"))}).fail(function(t){comm.popWindow("","接口调用失败",{width:"300px"})}).complete(function(){c.prop("disabled",!1)})}),t(".mark-this-answer",n).on("click",function(){var e=t(this),a=e.next(".answerId").data("id");t.ajax({url:"/answer/"+a+"/best",type:"POST"}).done(function(e){var a=e.data;a.status&&(comm.popWindow("","成功采纳此条信息!",{width:"200px"},!0),setTimeout(function(){t(".popWindow,.popWindow-overlay").fadeOut(),window.location.reload()},3e3))})}),t(".agree-ok",n).on("click",function(){var e=t(this),a=t.trim(e.text()),n=e.parent().find(".answerId").data("id");t.ajax({url:"/answer/"+n+"/favor",type:"POST"}).done(function(t){t.data.status&&(e.addClass("active"),e.text(a-0+1))})}),t(".agree-ok-no",n).on("click",function(){comm.popWindow("",'<span class="clearfix">需要登录才能点赞哦～ </span><a href="https://tuotiansudai.com/login" class="btn-normal to-login">去登录</a>',{width:"400px"})})}if(e.length){var s=t(".form-question",e),l=t(".ask-con",e),d=t(".addition",e),u=t(".captcha",e),f=t(".formSubmit",s);s.find("input.ask-con,input.tag").on("change keyup",function(e){t(this).checkFrom()}),d.on("keyup",function(){t(this).checkFrom()}),u.on("keyup",function(){t(this).checkFrom()}),s.find("textarea").autoTextarea({maxHeight:800,minHeight:100}),f.on("click",function(e){var a=s.find("textarea").val();e.preventDefault();var n=a.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\s/g,"　");s.find("textarea").val(n),t.ajax({url:"/question",data:s.serialize(),type:"POST",dataType:"json",beforeSend:function(t){f.prop("disabled",!0)}}).done(function(t){var e=t.data;if(e.status)location.href="question/my-questions";else if(refreshCaptcha(),e.isCaptchaValid){if(!e.isQuestionSensitiveValid)return void l.next().show().text("您输入的内容不能包含敏感词");e.isQuestionSensitiveValid&&!e.isAdditionSensitiveValid&&d.next().show().text("您输入的内容不能包含敏感词")}else u.parent().find(".error").show().text("验证码错误")}).fail(function(t){comm.popWindow("","接口调用失败",{width:"300px"})}).complete(function(t){f.prop("disabled",!1)})})}}).call(e,a(16))}});