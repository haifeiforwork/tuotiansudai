require(["jquery","drawCircle","logintip","register_common"],function(a,b){var c=a("#lanternFrame"),d={};c.find(".tip-list-frame .tip-list").each(function(b,c){var e=a(c).data("return");d[e]=c}),function(b){var e=a(".reward-gift-box",c),f=a("#MobileNumber"),g="/activity/lantern-festival/all-prize-list",h="/activity/lantern-festival/user-prize-list",i="/activity/lantern-festival/prize",j="/activity/lantern-festival/drawTime",k=a(".pointer-img",e),l=f.length?f.data("mobile"):"",m={mobile:l,activityCategory:"LANTERN_FESTIVAL_ACTIVITY"};b.prototype.showDrawTime=function(){a.ajax({url:j,type:"GET",dataType:"json"}).done(function(b){a(".draw-time",e).text(b)})};var b=new b(g,h,i,m,e);b.GiftRecord(),b.MyGift(),b.showDrawTime(),k.on("click",function(){k.hasClass("win-result")||(k.addClass("win-result"),setTimeout(function(){b.beginLuckDraw(function(e){if(k.removeClass("win-result"),b.showDrawTime(),0==e.returnCode){var f=e.prizeType.toLowerCase();a(d[f]).find(".prizeValue").text(e.prizeValue),b.noRotateFn(d[f])}else 1==e.returnCode?b.tipWindowPop(d.nochance):2==e.returnCode?a(".no-login-text",c).trigger("click"):3==e.returnCode?b.tipWindowPop(d.expired):4==e.returnCode&&b.tipWindowPop(d.authentication)})},1500))});var n=e.find(".menu-switch span");n.on("click",function(){var b=a(this),c=b.index(),d=e.find(".record-list ul");b.addClass("active").siblings().removeClass("active"),d.eq(c).show().siblings("ul").hide()})}(b),a(window).width()<700&&a(".bg-two .wp",c).append(a(".bg-two .rule-model",c))});