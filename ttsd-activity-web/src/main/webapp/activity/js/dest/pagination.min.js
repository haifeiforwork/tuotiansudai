define(["jquery","underscore","mustache","jquery.ajax.extension"],function(a,b,c){!function(a){a.fn.loadPagination=function(d,e){var f=a(this),g="";d.index=d.index||1,d.pageSize=d.pageSize||f.data("page-size"),b.each(d,function(a,b){g+=b+"="+a+"&"}),a.ajax({url:f.data("url")+"?"+g,type:"get",dataType:"json",contentType:"application/json; charset=UTF-8"}).success(function(b){var g=b.data;if(g.status){var h=g.index,i=g.count,j=c.render('<span class="count">共 {{count}} 条，当前第 {{index}} 页</span><span class="prev {{#hasPrev}}active{{/hasPrev}}">上一页</span><span class="next {{#hasNext}}active{{/hasNext}}">下一页</span>',{count:i,index:h,hasPrev:g.hasPreviousPage,hasNext:g.hasNextPage});f.html(j),g.hasPreviousPage&&a(".pagination .prev").click(function(){d.index=h-1,f.loadPagination(d,e)}),g.hasNextPage&&a(".pagination .next").click(function(){d.index=h+1,f.loadPagination(d,e)}),e(g)}})}}(a)});