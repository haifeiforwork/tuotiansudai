define(["jquery"],function(a){var b={compile:function(a,b){for(var b=b+"",c=a.split(""),d=(b.length,0);d<11;d++)c[2*d+2]=b[d]?b[d]:"a";return c.join("")},uncompile:function(a){for(var a=a+"",b=a.split(""),c=[],d=0;d<11;d++)c[d]=b[2*d+2];var e=c.join(""),f=e.match(/\d/gi);return f.join("")},initRadio:function(b,c){var d=b.length;d&&b.each(function(b,d){var e=a(this);e.is(":checked")&&e.next("label").addClass("checked"),e.next("label").click(function(){var b=a(this);/checked/.test(this.className)||(c.removeClass("checked"),b.addClass("checked"))})})},popWindow:function(b,c){var d=a('<div class="shade-body-mask"></div>'),e=a(b),f=a.extend({width:"460px",height:"370px"},c);e.css({width:f.width,height:f.height});var g=function(){var b=(document.body.scrollTop||document.documentElement.scrollTop,a(window).height()-e.height()),c=a(window).width()-e.width();e.css({top:b/2,left:c/2}),d.height(a("body").height()),a("body").append(e).append(d)};g(),a(".close-btn,.go-close",e).on("click",function(){e.remove(),d.remove()})},isUserLogin:function(){var b=a.Deferred();return a.ajax({url:"/isLogin",type:"GET"}).done(function(c){if(c){b.reject(c),a("meta[name='_csrf']").remove(),a("head").append(a(c.responseText));var d=a("meta[name='_csrf']").attr("content"),e=a("meta[name='_csrf_header']").attr("content");a(document).ajaxSend(function(a,b,c){b.setRequestHeader(e,d)})}else b.resolve()}).fail(function(){b.reject()}),b.promise()}};return b});