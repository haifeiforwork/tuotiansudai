define(["jquery"],function(a){var b={clicked:!1,index:0,count:0,timer:0,speed:200,times:0,cycle:10,prize:-1,elementId:""};return{init:function(c){this.initOpt=a.extend({},b,c);var d=a("#"+this.initOpt.elementId);this.unitsOption=d.find(".lottery-unit"),this.obj=d,this.initOpt.count=this.unitsOption.length},rollStart:function(){var b=this.initOpt;return b.index+=1,b.index>b.count-1&&(b.index=0),this.unitsOption.filter(function(c,d){return a(d).removeClass("active"),a(d).data("unit")==b.index}).addClass("active"),!1},rollResult:function(a,b){this.rollStart();var c=this.initOpt;return c.times+=1,c.times>c.cycle&&c.prize==c.index?(clearTimeout(c.timer),c.prize=-1,c.times=0,c.clicked=!1,b&&b()):(c.timer=setTimeout(this.rollResult.bind(this),c.speed),c.clicked=!0),!1}}});