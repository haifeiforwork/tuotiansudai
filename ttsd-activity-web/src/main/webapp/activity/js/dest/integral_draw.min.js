require(["jquery","underscore","drawCircle","register_common","logintip"],function(a,b,c){var d=a("#integralDrawPage"),e=a(".one-thousand-points",d),f=a(".ten-thousand-points",d),g=a(".gift-circle-detail .my-property",d),h={},i=a(".pointer-img",e),j=a(".pointer-img",f),k=a("#MobileNumber"),l="/activity/point-draw/all-list",m="/activity/point-draw/user-list",n="/activity/point-draw/draw",o=k.length?k.data("mobile"):"";d.find(".tip-list-frame .tip-list").each(function(b,c){var d=a(c).data("return");h[d]=c}),e.find(".gift-circle-out").after(a(".draw-instructions",e)),f.find(".gift-circle-out").after(a(".draw-instructions",f)),g.text(myPoint);var p=globalFun.browserRedirect(),q=globalFun.parseURL(location.href);"mobile"==p&&"yes"==q.params.tag&&a(".reg-tag-current").show();var r={mobile:o,activityCategory:"POINT_DRAW_1000"},s=new c(l,m,n,r,e);s.GiftRecord(),s.MyGift(),i.on("click",function(b){s.beginLuckDraw(function(b){if(0==b.returnCode){var e=0;switch(g.text(b.myPoint),b.prize){case"BICYCLE_XM":e=25;break;case"MASK":e=295;break;case"LIPSTICK":e=205;break;case"PORCELAIN_CUP_BY_1000":e=70;break;case"PHONE_BRACKET":e=340;break;case"PHONE_CHARGE_10":e=250;break;case"RED_ENVELOPE_10":e=160;break;case"INTEREST_COUPON_2_POINT_DRAW":e=115}var f=b.prizeType.toLowerCase();a(h[f]).find(".prizeValue").text(b.prizeValue),c.rotateFn(e,h[f])}else 1==b.returnCode?c.tipWindowPop(h.nopoint):2==b.returnCode?a(".no-login-text",d).trigger("click"):3==b.returnCode?c.tipWindowPop(h.expired):4==b.returnCode&&c.tipWindowPop(h.authentication)})}),s.PrizeSwitch();var t={mobile:o,activityCategory:"POINT_DRAW_10000"},u=new c(l,m,n,t,f);u.GiftRecord(),u.MyGift(),j.on("click",function(b){u.beginLuckDraw(function(b){if(0==b.returnCode){var e=0;switch(g.text(b.myPoint),b.prize){case"IPHONE7_128G":e=25;break;case"DELAYED_ACTION":e=295;break;case"U_DISH":e=205;break;case"PHONE_CHARGE_20":e=70;break;case"HEADREST":e=340;break;case"IQIYI_MEMBERSHIP_30":e=250;break;case"RED_ENVELOPE_50_POINT_DRAW":e=115;break;case"INTEREST_COUPON_5_POINT_DRAW":e=160}var f=b.prizeType.toLowerCase();a(h[f]).find(".prizeValue").text(b.prizeValue),c.rotateFn(e,h[f])}else 1==b.returnCode?c.tipWindowPop(h.nopoint):2==b.returnCode?a(".no-login-text",d).trigger("click"):3==b.returnCode?tdrawCircle.tipWindowPop(h.expired):4==b.returnCode&&c.tipWindowPop(h.authentication)})}),u.PrizeSwitch()});