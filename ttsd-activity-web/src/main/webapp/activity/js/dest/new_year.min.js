require(["jquery","drawCircle","logintip","register_common"],function(a,b){a(function(){var c=globalFun.browserRedirect(),d=a("#newYearDayFrame"),e=a("#newYearSlide");!function(){if("pc"==c){var a='<div class="body-decorate" id="bodyDecorate"> <div class="bg-left"></div> <div class="bg-right"></div> </div>';d.prepend(a),e.addClass("pc-img")}else{e.html("<img src="+staticServer+"/activity/images/christmas-day/app-top.jpg>");var b=globalFun.parseURL(location.href);"yes"==b.params.tag&&d.find(".reg-tag-current").show()}}(),function(b){var c=a(".draw-area-box",d),e=a("#MobileNumber"),f="/activity/point-draw/all-list",g="/activity/point-draw/user-list",h="/activity/point-draw/task-draw",i=a(".gold-egg",c),j=e.length?e.data("mobile"):"",k={info:"",button:"",area:[]},l={mobile:j,activityCategory:"ANNUAL_ACTIVITY"},b=new b(f,g,h,l,c);b.GiftRecord(),b.MyGift(),i.on("click",function(){i.hasClass("win-result")||(i.addClass("win-result"),setTimeout(function(){b.beginLuckDraw(function(c){i.removeClass("win-result"),0==c.returnCode?("CONCRETE"==c.prizeType?(k.button='<a href="javascript:void(0)" class="go-on go-close">继续抽奖</a>',k.info='<p class="success-text">恭喜您！</p><p class="reward-text">抽中了'+c.prizeValue+'！</p><p class="des-text">拓天客服将会在7个工作日内联系您发放奖品</p>'):"VIRTUAL"==c.prizeType&&(k.button='<a href="javascript:void(0)" class="go-on go-close">继续抽奖</a>',k.info='<p class="success-text">恭喜您！</p><p class="reward-text">'+c.prizeValue+'！</p><p class="des-text">奖品已发放至“我的宝藏”当中。</p>'),b.noRotateFn(k)):1==c.returnCode?(k.info='<p class="login-text">您暂无抽奖机会啦～</p><p class="des-text">赢取机会后再来抽奖吧！</p>',k.button='<a href="javascript:void(0)" class="go-close">知道了</a>',b.tipWindowPop(k)):2==c.returnCode?a(".no-login-text",d).trigger("click"):3==c.returnCode?(k.info='<p class="login-text">不在活动时间内~</p>',b.tipWindowPop(k)):4==c.returnCode&&(k.info='<p class="login-text">您还未实名认证~</p><p class="des-text">请实名认证后再来抽奖吧！</p>',k.button='<a href="javascript:void(0)" class="go-close">知道了</a>',b.tipWindowPop(k))})},1500))});var m=a(".gift-info-box",d),n=m.find(".gift-record li");n.on("click",function(){var b=a(this),c=b.index(),d=m.find(".record-list ul");b.addClass("active").siblings().removeClass("active"),d.eq(c).show().siblings().hide()})}(b)})});