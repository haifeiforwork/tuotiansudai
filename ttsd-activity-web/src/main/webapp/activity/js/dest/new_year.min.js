require(["jquery","drawCircle","logintip","register_common"],function(a,b){a(function(){var c=globalFun.browserRedirect(),d=a("#newYearDayFrame"),e=a("#newYearSlide");!function(){if("pc"==c){var a='<div class="body-decorate" id="bodyDecorate"> <div class="bg-left"></div> <div class="bg-right"></div> </div>';d.prepend(a),e.addClass("pc-img")}else{e.html("<img src="+staticServer+"/activity/images/christmas-day/app-top.jpg>");var b=globalFun.parseURL(location.href);"yes"==b.params.tag&&d.find(".reg-tag-current").show()}}(),function(b){var c=a(".reward-gift-box",d),e=a("#rewardTaskStatus"),f=a(".reward-list-frame",d),g=a("#MobileNumber"),h="/activity/point-draw/all-list",i="/activity/point-draw/user-list",j="/activity/point-draw/task-draw",k=a(".gold-egg",c),l=g.length?g.data("mobile"):"",m={info:"",button:"",area:[]},n={mobile:l,activityCategory:"ANNUAL_ACTIVITY"};f.find(".reward-box").each(function(b,c){var d=e.val().split(",");1==d[b]&&a(c).addClass("finished")});var b=new b(h,i,j,n,c);b.GiftRecord(),b.MyGift(),k.on("click",function(){k.hasClass("win-result")||(k.addClass("win-result"),setTimeout(function(){b.beginLuckDraw(function(c){k.removeClass("win-result"),0==c.returnCode?("CONCRETE"==c.prizeType?(m.button='<a href="javascript:void(0)" class="go-on go-close">继续抽奖</a>',m.info='<p class="success-text">恭喜您！</p><p class="reward-text">抽中了'+c.prizeValue+'！</p><p class="des-text">拓天客服将会在7个工作日内联系您发放奖品</p>'):"VIRTUAL"==c.prizeType&&(m.button='<a href="javascript:void(0)" class="go-on go-close">继续抽奖</a>',m.info='<p class="success-text">恭喜您！</p><p class="reward-text">'+c.prizeValue+'！</p><p class="des-text">奖品已发放至“我的宝藏”当中。</p>'),b.noRotateFn(m)):1==c.returnCode?(m.info='<p class="login-text">您暂无抽奖机会啦～</p><p class="des-text">赢取机会后再来抽奖吧！</p>',m.button='<a href="javascript:void(0)" class="go-close">知道了</a>',b.tipWindowPop(m)):2==c.returnCode?a(".no-login-text",d).trigger("click"):3==c.returnCode?(m.info='<p class="login-text">不在活动时间内~</p>',b.tipWindowPop(m)):4==c.returnCode&&(m.info='<p class="login-text">您还未实名认证~</p><p class="des-text">请实名认证后再来抽奖吧！</p>',m.button='<a href="javascript:void(0)" class="go-close">知道了</a>',b.tipWindowPop(m))})},1500))}),b.PrizeSwitch()}(b)})});