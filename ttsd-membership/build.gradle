apply plugin: 'java'

version = '1.0'

configurations {
    providedCompile
}

sourceSets {
    main.compileClasspath += configurations.providedCompile
    test.compileClasspath += configurations.providedCompile
    test.runtimeClasspath += configurations.providedCompile
}

dependencies {
    compile project(':ttsd-dependency'),
            project(':ttsd-config'),
            project(':ttsd-client'),
            project(':ttsd-user-repository'),
            project(':ttsd-util')

    def springVersion = '4.3.1.RELEASE'
    testCompile "junit:junit:4.12",
            'org.mockito:mockito-core:1.10.19',
            "javax.servlet:javax.servlet-api:3.1.0",
            "org.springframework:spring-test:$springVersion",
            "com.jayway.jsonpath:json-path:2.0.0",
            'com.squareup.okhttp:mockwebserver:2.4.0'

    testCompile project(':ttsd-spring-extension')
    testCompile project(path: ':ttsd-user-repository', configuration: 'tests')
}

processResources.outputs.upToDateWhen { false }