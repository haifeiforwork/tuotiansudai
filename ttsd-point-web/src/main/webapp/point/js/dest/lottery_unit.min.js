define(["jquery"],function(a){var b={clicked:!1,index:0,count:0,timer:0,speed:200,times:0,cycle:10,prize:-1,elementId:""},c={init:function(c){this.initOpt=a.extend({},b,c);var d=a("#"+this.initOpt.elementId);this.unitsOption=d.find(".lottery-unit"),this.obj=d,this.initOpt.count=this.unitsOption.length},rollStart:function(){var b=this.initOpt;b.index+=1,b.index>b.count-1&&(b.index=0);var c=this.unitsOption.filter(function(c,d){return a(d).removeClass("active"),a(d).data("unit")==b.index});return c.addClass("active"),!1},rollResult:function(a){this.rollStart();var b=this.initOpt;return b.times+=1,b.times>b.cycle&&b.prize==b.index?(clearTimeout(b.timer),b.prize=-1,b.times=0,b.clicked=!1,a&&a()):(b.timer=setTimeout(this.rollResult.bind(this),b.speed),b.clicked=!0),!1}};return c});