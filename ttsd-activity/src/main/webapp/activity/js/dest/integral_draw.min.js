require(["jquery","underscore","layerWrapper","drawCircle","commonFun","register_common"],function(a,b,c,d){var e=a("#integralDrawPage"),f=a(".one-thousand-points",e),g=a(".ten-thousand-points",e),h=a("#MobileNumber"),i="/activity/point-draw/all-list",j="/activity/point-draw/user-list",k="/activity/point-draw/draw",l=h.length?h.data("mobile"):"",m={info:"",button:"",area:[]};a("body").on("click",".go-close",function(b){b.preventDefault();var d=a(this);d.hasClass("go-on")&&window.location.reload(),c.closeAll()});var n=a(".user-record",f),o=a(".own-record",f),p=a(".pointer-img",f),q=a(".rotate-btn",f),r=a(".tip-list",e),s={mobile:l,activityCategory:"POINT_DRAW_1000"},t=new d(i,j,k,s,r);t.GiftRecord(),t.MyGift(),p.on("click",function(a){t.beginLotteryDraw(function(a){if(0==a.returnCode){var b=0;switch(a.prize){case"BICYCLE_XM":b=12;break;case"MASK":b=12;break;case"LIPSTICK":b=12;break;case"PORCELAIN_CUP_BY_1000":b=12;break;case"PHONE_BRACKET":b=12;break;case"PHONE_CHARGE_10":b=12;break;case"RED_ENVELOPE_10":b=12;break;case"INTEREST_COUPON_2_POINT_DRAW":b=12}a.istype=istype,"CONCRETE"==istype?(m.button='<a href="javascript:void(0)" class="go-on go-close">继续抽奖</a>',m.info='<p class="success-text">恭喜您！</p><p class="reward-text">'+a.message+'！</p><p class="des-text">拓天客服将会在7个工作日内联系您发放奖品</p>'):"VIRTUAL"==istype&&(m.button='<a href="/my-treasure" class="go-on">去查看</a><a href="javascript:void(0)" class="go-on go-close">继续抽奖</a>',m.info='<p class="success-text">恭喜您！</p><p class="reward-text">'+a.message+'！</p><p class="des-text">奖品已发放至“我的宝藏”当中。</p>'),t.rotateFn(q,b,m)}else 1==a.returnCode?(m.info='<p class="login-text">您的积分不足~</p><p class="des-text">投资赚取更多积分再来抽奖吧！</p>',m.button='<a href="javascript:void(0)" class="go-close">知道了</a>',t.tipWindowPop(m)):2==a.returnCode?(m.info='<p class="login-text">您还未登录~</p><p class="des-text">请登录后再来抽奖吧！</p>',m.button='<a href="javascript:void(0)" class="go-close">知道了</a>',t.tipWindowPop(m)):3==a.returnCode?(m.info='<p class="login-text">不在活动时间内~</p>',t.tipWindowPop(m)):4==a.returnCode&&(m.info='<p class="login-text">您还未实名认证~</p><p class="des-text">请实名认证后再来抽奖吧！</p>',m.button='<a href="javascript:void(0)" class="go-close">知道了</a>',t.tipWindowPop(m))})});var u=f.find(".gift-record li"),v=f.find(".record-list ul");t.PrizeSwitch(u,v),t.scrollList(n),t.scrollList(o);var w=a(".user-record",g),x=a(".own-record",g),y=a(".pointer-img",g),z=a(".rotate-btn",g),A={mobile:l,activityCategory:"POINT_DRAW_10000"},B=new d(i,j,k,A);B.GiftRecord(),B.MyGift(),y.on("click",function(a){t.beginLotteryDraw(function(a){if(0==a.returnCode){var b=0;switch(a.prize){case"BICYCLE_XM":b=12;break;case"MASK":b=12;break;case"LIPSTICK":b=12;break;case"PORCELAIN_CUP_BY_1000":b=12;break;case"PHONE_BRACKET":b=12;break;case"PHONE_CHARGE_10":b=12;break;case"RED_ENVELOPE_10":b=12;break;case"INTEREST_COUPON_2_POINT_DRAW":b=12}a.istype=istype,"CONCRETE"==istype?(m.button='<a href="javascript:void(0)" class="go-on go-close">继续抽奖</a>',m.info='<p class="success-text">恭喜您！</p><p class="reward-text">'+a.message+'！</p><p class="des-text">拓天客服将会在7个工作日内联系您发放奖品</p>'):"VIRTUAL"==istype&&(m.button='<a href="/my-treasure" class="go-on">去查看</a><a href="javascript:void(0)" class="go-on go-close">继续抽奖</a>',m.info='<p class="success-text">恭喜您！</p><p class="reward-text">'+a.message+'！</p><p class="des-text">奖品已发放至“我的宝藏”当中。</p>'),t.rotateFn(z,b,m)}else 1==a.returnCode?(m.info='<p class="login-text">您的积分不足~</p><p class="des-text">投资赚取更多积分再来抽奖吧！</p>',m.button='<a href="javascript:void(0)" class="go-close">知道了</a>',t.tipWindowPop(m)):2==a.returnCode?(m.info='<p class="login-text">您还未登录~</p><p class="des-text">请登录后再来抽奖吧！</p>',m.button='<a href="javascript:void(0)" class="go-close">知道了</a>',t.tipWindowPop(m)):3==a.returnCode?(m.info='<p class="login-text">不在活动时间内~</p>',t.tipWindowPop(m)):4==a.returnCode&&(m.info='<p class="login-text">您还未实名认证~</p><p class="des-text">请实名认证后再来抽奖吧！</p>',m.button='<a href="javascript:void(0)" class="go-close">知道了</a>',t.tipWindowPop(m))})});var C=g.find(".gift-record li"),D=g.find(".record-list ul");B.PrizeSwitch(C,D),B.scrollList(w),B.scrollList(x)});