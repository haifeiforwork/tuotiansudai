require(["jquery","underscore","template","layerWrapper","drawCircle","commonFun","register_common","circle"],function(a,b,c,d,e){function f(){var b=a(window).scrollTop();b>=580?(i.addClass("fixed-menu"),a(".seizeSeat",h).show()):(i.removeClass("fixed-menu"),a(".seizeSeat",h).hide())}function g(a){var b=/(?=(?!\b)(\d{3})+$)/g;return a.replace(b,",")}var h=a("#nationalDayFrame"),i=a("#tourSlide"),j=(a("#nationalDayCircle"),h.find(".invest-percent-box em.total-invest")),k=commonFun.browserRedirect();if("mobile"==k){var l=commonFun.parseURL(location.href);"yes"==l.params.tag&&h.find(".reg-tag-current").show()}else f(),a(window).on("scroll",function(){f()});var m=a.trim(j.text()),n=m.split(".")[0];if(m.split(".")[1])var o="."+m.split(".")[1];else o="";var p=g(n);j.text(p+o),a(".button-area",i).find("li").on("click",function(b){var c=a(this),d=c.index();i.addClass("fixed-menu"),a(".seizeSeat",h).show();var e=a(".section-outer",h).eq(d).offset().top;0==d?a(window).scrollTop(600):a(window).scrollTop(e-137)});var q=a("#pointer"),r=a("#MobileNumber"),s="/activity/national/all-list",t="/activity/national/user-list",u="/activity/national/draw",v=r.length?r.data("mobile"):"",e=new e(s,t,u,v);e.GiftRecord(),e.MyGift(t,v),q.on("click",function(b){e.beginLotteryDraw(function(b){if(0==b.returnCode)switch(b.prize){case"MANGO_CARD_100":e.rotateFn(347,"100元芒果卡",b.prizeType);break;case"RED_INVEST_15":e.rotateFn(30,"15元投资红包",b.prizeType);break;case"RED_INVEST_50":e.rotateFn(120,"50元投资红包",b.prizeType);break;case"TELEPHONE_FARE_10":e.rotateFn(265,"10元话费",b.prizeType);break;case"IQIYI_MEMBERSHIP":e.rotateFn(80,"1个月爱奇艺会员",b.prizeType);break;case"CINEMA_TICKET":e.rotateFn(310,"电影票一张",b.prizeType);break;case"FLOWER_CUP":e.rotateFn(170,"青花瓷杯子",b.prizeType);break;case"MEMBERSHIP_V5":e.rotateFn(347,"1个月V5会员",b.prizeType)}else 2==b.returnCode?a("#tipList").html(c("tipListTpl",{tiptext:b.message,istype:"nologin"})).show().find(".tip-dom").show():3==b.returnCode?a("#tipList").html(c("tipListTpl",{tiptext:b.message,istype:"timeout"})).show().find(".tip-dom").show():a("#tipList").html(c("tipListTpl",{tiptext:b.message,istype:"notimes"})).show().find(".tip-dom").show()})})});