require(["jquery"],function(a){a(function(){var b=function(b,d,e){var f=e,d=d;a.ajax({url:b,type:"POST",dataType:"json",data:d}).done(function(a){a.status?(f.addClass("lock").removeClass("unlock"),f.closest("label").next().addClass("right").removeClass("wrong").text("")):(f.closest("label").next().addClass("wrong").removeClass("right").text("输入有误"),f.removeClass("lock").addClass("unlock")),c(),console.log("success")}).fail(function(){console.log("error")}).always(function(){console.log("complete")})};a(".userName").blur(function(){var d=a(this),e=d.val(),f={user:e};""==d.val()?(d.removeClass("lock").addClass("unlock"),d.closest("label").next().addClass("wrong").removeClass("right").text("请输入用户名")):b(_API_USER,f,d,"user"),c()}),a(".userPass").blur(function(){var b=a(this),d=b.val();""==b.val()||d.length<6?(b.removeClass("lock").addClass("unlock"),b.closest("label").next().addClass("wrong").removeClass("right").text("请输入密码,密码至少6位")):(b.addClass("lock").removeClass("unlock"),b.closest("label").next().addClass("right").removeClass("wrong").text("")),c()}),a(".jq-yzm").blur(function(){var d=a(this),e=d.val(),f={yzm:e};""==d.val()?(d.addClass("lock"),d.closest("label").next().addClass("wrong").removeClass("right").text("请输入验证码")):b(_API_YZM,f,d),c()});var c=function(){for(var b=a(".form-login"),c=0;3>c;c++){if(b.find("label").eq(c).find("input").hasClass("unlock"))return a(".login-now").addClass("grey").attr("disabled","disabled"),!1;a(".login-now").removeClass("grey").removeAttr("disabled")}};a(".login-now").click(function(){var b=a(".form-login").serialize();a.ajax({url:url,type:"POST",dataType:"json",data:b}).done(function(b){b.status||(a(".userPass").addClass("lock").removeClass("unlock"),a(".userPass").closest("label").next().text(b.msg)),console.log("success")}).fail(function(){console.log("error")}).always(function(){console.log("complete")})})})});