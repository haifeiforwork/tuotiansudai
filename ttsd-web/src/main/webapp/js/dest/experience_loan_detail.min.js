require(["jquery","jquery.ajax.extension","coupon-alert","autoNumeric","red-envelope-float","jquery.form"],function(a){var b=a(".loan-detail-content").data("loan-progress"),c=a(".text-input-amount",a(".loan-detail-content"));b<=50?(a(".chart-box .rount").css("transform","rotate("+3.6*b+"deg)"),a(".chart-box .rount2").hide()):(a(".chart-box .rount").css("transform","rotate(180deg)"),a(".chart-box .rount2").show(),a(".chart-box .rount2").css("transform","rotate("+3.6*(b-50)+"deg)")),c.length&&(c.autoNumeric("init"),c.focus(function(){layer.closeAll("tips")}));var d=function(){var a=0;return isNaN(c.autoNumeric("get"))||(a=parseInt((100*c.autoNumeric("get")).toFixed(0))),a};a.ajax({url:"/calculate-expected-coupon-interest/loan/1/amount/"+d(),type:"GET",data:{loanId:"1",amount:d(),couponIds:""},dataType:"json",contentType:"application/json; charset=UTF-8"}).done(function(b){a(".principal-income").text(b)}),a("#investSubmit").on("click",function(b){var c=a(this);return a("#investForm").ajaxSubmit({dataType:"json",type:"POST",url:"/experience-invest",beforeSubmit:function(a,b,d){console.log(b),console.log(a),c.addClass("loading")},success:function(b,d,e,f){var g=b.data;c.removeClass("loading"),g.status&&layer.open({type:1,cancel:function(){window.location.reload()},title:"&nbsp",area:["400px","205px"],content:a("#freeSuccess")})}}),!1}),a(".close-free").on("click",function(a){a.preventDefault(),layer.closeAll(),window.location.reload()})});