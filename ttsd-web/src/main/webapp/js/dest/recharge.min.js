require(["jquery","csrf","autoNumeric"],function(a){a(function(){var b=a(".e-bank-amount"),c=a(".e-bank-recharge .recharge-form input[name='amount']"),d=a(".recharge-submit");b.autoNumeric("init"),b.keyup(function(){var a=parseFloat(b.autoNumeric("get"));isNaN(a)||0===a?d.addClass("grey").attr("disabled",!0):d.removeClass("grey").attr("disabled",!1)});var e=a(".e-bank-recharge ol li");e.click(function(){var b=a(this).find("input"),c=b.data("name");a(".selected-bank").val(c)});var f=a(".banking ul li");f.click(function(){var b=a(this),c=b.index(),d=a(".box-banking .tab-box");b.hasClass("tab-fast-pay")?a.get(API_FAST_PAY,function(e){"unbindCard"==e.bindCardStatus?(a(".bind-card-layer").find("p").text("您还未绑定银行卡，请您绑定银行卡！"),a(".btn-box-layer").find(".now").attr("href","/bind-card"),a(".bind-card-layer").show()):"commonBindCard"==e.bindCardStatus?(a(".bind-card-layer").find("p").text("您绑定的银行卡不支持快捷支付，是否换卡？"),a(".btn-box-layer").find(".now").attr("href","/bind-card"),a(".bind-card-layer").show()):"specialBindCard"==e.bindCardStatus?(b.addClass("active").siblings().removeClass("active"),d.eq(c).find(".recharge-bank").hide(),d.eq(c).find(".jq-open-fast-pay").show(),d.eq(c).show().siblings().hide()):"openFastPay"==e.bindCardStatus&&(b.addClass("active").siblings().removeClass("active"),d.eq(c).find(".recharge-bank").show(),d.eq(c).find(".jq-open-fast-pay").hide(),d.eq(c).show().siblings().hide())}):(b.addClass("active").siblings().removeClass("active"),d.eq(c).show().siblings().hide())}),a(".close2,.cancel").click(function(){a(".bind-card-layer").hide()}),a(".ecope-dialog .close").click(function(){a(".ecope-overlay,.ecope-dialog").hide()}),d.click(function(){a(".ecope-overlay,.ecope-dialog").show();var d=b.autoNumeric("get");c.val(d)})})});