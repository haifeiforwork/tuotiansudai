require(["jquery","csrf","autoNumeric"],function(a){a(function(){var b=a(".e-bank-amount"),c=a(".e-bank-recharge .recharge-form input[name='amount']"),d=a(".recharge-submit");b.autoNumeric("init"),b.keyup(function(){var a=parseFloat(b.autoNumeric("get"));isNaN(a)||0===a?d.addClass("grey").attr("disabled",!0):d.removeClass("grey").attr("disabled",!1)});var e=a(".e-bank-recharge ol li");e.click(function(){var b=a(this).find("input"),c=b.data("name");a(".selected-bank").val(c)});var f=a(".banking ul li");f.click(function(){var b=a(this),c=b.index(),d=a(".box-banking .tab-box");b.hasClass("tab-fast-pay")?a.get(API_FAST_PAY,function(e){"unbindCard"==e.bindCardStatus?(a(".bind-card-layer").find("p").text("您还未绑定银行卡，请您绑定银行卡！"),a(".btn-box-layer").find(".now").attr("href","/bind-card"),a(".bind-card-layer").show()):"commonBindCard"==e.bindCardStatus?(a(".bind-card-layer").find("p").text("您绑定的银行卡不支持快捷支付，是否换卡？"),a(".btn-box-layer").find(".now").attr("href","/bind-card"),a(".bind-card-layer").show()):"specialBindCard"==e.bindCardStatus?(b.addClass("active").siblings().removeClass("active"),d.eq(c).find(".recharge-bank").hide(),d.eq(c).find(".jq-open-fast-pay").show(),d.eq(c).show().siblings().hide()):"openFastPay"==e.bindCardStatus&&(b.addClass("active").siblings().removeClass("active"),d.eq(c).find(".recharge-bank").show(),d.eq(c).find(".jq-open-fast-pay").hide(),d.eq(c).show().siblings().hide())}):(b.addClass("active").siblings().removeClass("active"),d.eq(c).show().siblings().hide())}),a(".close2,.cancel").click(function(){a(".bind-card-layer").hide()}),d.click(function(){var d=b.autoNumeric("get");c.val(d);var e=a("#popRecharge");i("登录到联动优势支付平台充值",e,{width:"560px"})});var g=function(b,c){var d=b.length;d&&b.each(function(b,d){var e=a(this);e.is(":checked")&&e.next("label").addClass("checked"),e.next("label").click(function(){var b=a(this);/checked/.test(this.className)||(c.removeClass("checked"),b.addClass("checked"))})})},h=function(b,c){var d=b.length;d&&b.each(function(b,c){var d=a(this);d.is(":checked")&&d.next("label").addClass("checked"),d.next("label").click(function(){var b=a(this);/checked/.test(this.className)?b.removeClass("checked"):b.addClass("checked")})})},i=function(b,c,d){if(a(".popWindow").length)a(".ecope-overlay,.popWindow").show();else{var e=[];e.push('<div class="popWindow">'),e.push('<div class="ecope-overlay"></div>'),e.push('<div class="ecope-dialog">'),e.push('<div class="dg_wrapper">'),e.push('<div class="hd"><h3>'+b+' <em class="close" ></em></h3></div>'),e.push('<div class="bd">sss</div>'),e.push("</div></div></div>"),a("body").append(e.join(""));var f=a(".ecope-dialog"),d=a.extend({width:"560px"},d);f.css({width:d.width});var g=function(){var b=document.body.scrollTop||document.documentElement.scrollTop,d=a(window).height()-f.height(),e=a(window).width()-f.width();f.css({top:d/2+b,left:e/2}),f.find(".bd").empty().append(c)};g(),a(window).resize(function(){g()});document.all?"mousewheel":"DOMMouseScroll";a(window).bind("mousewheel",function(){g()})}f.delegate(".close","click",function(){a(".ecope-overlay,.popWindow").hide()})};if(a("#btnAuthority").length){var j=a("#btnAuthority");j.click(function(){var b='<div cass="auto-invest"><button id="finishAuthor" class="btn btn-normal">已完成授权</button></div>';i("自动投标授权",b,{width:"450px"}),a("body").delegate("#finishAuthor","click",function(){location.href="http://localhost:8080/investor/auto-invest/plan"})})}if(a("#planSwitchDom").length){var k=a("#planSwitchDom"),l=a(".switchBtn",k),m=a("label.radio",l),n=a(".projectLimit",k),o=a('input[type="radio"]',k),p=a('input[type="checkbox"]',k),q=a("label.checkbox",k);g(o,m),h(p,q),m.click(function(b){var c=a(this),d=c.prev("input").val();1==d?k.find("dl").show().siblings().show():k.find("dl").first().show().siblings().hide()}),n.find("span").click(function(){var b=a(this);b.toggleClass("active")})}})});