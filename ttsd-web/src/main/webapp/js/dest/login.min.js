require(["jquery"],function(a){a(function(){var b=function(b,d,e){var f="验证码错误",g=e;a.ajax({url:b,type:"GET",dataType:"json",contentType:"application/json; charset=UTF-8"}).done(function(b){b.data.status?(g.addClass("lock").removeClass("unlock"),a(".error").removeClass("wrong").text("")):(a(".error").addClass("wrong").text(f),g.removeClass("lock").addClass("unlock")),c(),console.log("success")}).fail(function(){console.log("error")}).always(function(){console.log("complete")})};a(".login-name").blur(function(){var b="用户名不能为空",d=a(this);d.val();""==d.val()?(d.removeClass("lock").addClass("unlock"),a(".error").addClass("wrong").text(b)):a(".error").removeClass("wrong").text(""),c()}),a(".password").blur(function(){var b="密码不能为空",d=a(this);""==d.val()?(d.removeClass("lock").addClass("unlock"),a(".error").addClass("wrong").text(b)):(d.addClass("lock").removeClass("unlock"),a(".error").removeClass("wrong").text("")),c()}),a(".captcha").blur(function(){var d=a(this),e="验证码错误",f=d.val(),g={yzm:f};""==d.val()?(d.addClass("lock").removeClass("unlock"),a(".error").addClass("wrong").text(e)):b("/login/captcha/"+f+"/verify",g,d),c()});var c=function(){for(var b=a(".form-login"),c=0;3>c;c++){if(b.find("label").eq(c).find("input").hasClass("unlock"))return a(".login-now").addClass("grey").attr("disabled","disabled"),!1;a(".login-now").removeClass("grey").removeAttr("disabled")}};a(".login-now").click(function(){var b=a(".form-login").serialize();a.ajax({url:url,type:"POST",dataType:"json",data:b}).done(function(b){b.status||(a(".captcha").addClass("unlock").removeClass("lock").val(""),a(".error").addClass("wrong").text("用户名或密码错误")),console.log("success")}).fail(function(){console.log("error")}).always(function(){console.log("complete")})})})});