require(["jquery","layerWrapper","template","jquery.ajax.extension"],function(a,b,c){a(function(){function d(d,e){a.ajax({url:"/activity/hero-ranking/invest/"+e,type:"GET",dataType:"json"}).done(function(b){"list"==d?a("#heroList").html(c("heroListTpl",b)):"history"==d&&a("#heroRecord").html(c("heroRecordTpl",b))}).fail(function(){b.msg("请求失败，请重试！")})}function e(d,e){a.ajax({url:"/activity/hero-ranking/referrer-invest/"+e,type:"GET",dataType:"json"}).done(function(b){b={status:!0,message:"",records:[{centSumAmount:"100000",loginName:"zl***"},{centSumAmount:"100000",loginName:"zl***"},{centSumAmount:"100000",loginName:"zl***"}]},"list"==d?a("#refeInvest").html(c("refeInvestTpl",b)):"history"==d&&a("#refeRecord").html(c("refeRecordTpl",b))}).fail(function(){b.msg("请求失败，请重试！")})}var f=a(".show-btn"),g=a(".back-btn"),h=a("#heroPre"),i=a("#heroNext"),j=a("#refePre"),k=a("#refeNext"),l=a("#getVip"),m=a(".get-rank");f.on("click",function(b){b.preventDefault();var c=a(this),d=c.closest(".rank-model");d.addClass("active")}),g.on("click",function(b){b.preventDefault();var c=a(this),d=c.closest(".rank-model");d.removeClass("active")}),h.on("click",function(b){b.preventDefault();var c=a(this),e=c.siblings(".date-info"),f=parseInt(e.text().split("-")[2])>1?parseInt(e.text().split("-")[2])-1:1,g="2016-"+e.text().split("-")[1]+"-"+(f>9?f:"0"+f);d("history",g),e.text(g)}),i.on("click",function(b){b.preventDefault();var c=a(this),e=c.siblings(".date-info"),f=parseInt(e.text().split("-")[2])<31?parseInt(e.text().split("-")[2])+1:31,g="2016-"+e.text().split("-")[1]+"-"+(f>9?f:"0"+f);d("history",g),e.text(g)}),j.on("click",function(b){b.preventDefault();var c=a(this),d=c.siblings(".date-info"),f=parseInt(d.text().split("-")[2])>1?parseInt(d.text().split("-")[2])-1:1,g="2016-"+d.text().split("-")[1]+"-"+(f>9?f:"0"+f);e("history",g),d.text(g)}),k.on("click",function(b){b.preventDefault();var c=a(this),d=c.siblings(".date-info"),f=parseInt(d.text().split("-")[2])<31?parseInt(d.text().split("-")[2])+1:31,g="2016-"+d.text().split("-")[1]+"-"+(f>9?f:"0"+f);e("history",g),d.text(g)}),l.on("click",function(c){c.preventDefault(),a.ajax({url:"/path/to/file",type:"POST",dataType:"json",data:{param1:"value1"}}).done(function(){b.open({type:1,content:a("#id")})}).fail(function(){console.log("error")})}),d("list",a(".date-info:eq(0)").text()),d("history",a(".date-info:eq(0)").text()),e("list",a(".date-info:eq(1)").text()),e("history",a(".date-info:eq(1)").text()),m.on("click",function(){cnzzPush.trackClick("153周年庆","我要上榜","英雄榜")}),l.on("click",function(){cnzzPush.trackClick("152周年庆","领取会员","英雄榜")})})});