define(["jquery","underscore","echarts"],function(a,b){require.config({paths:{echarts:"libs/echarts/dist"}});var c={ChartConfig:function(a,b){return this.option={chart:{},option:b,container:a},this.option},RenderChart:function(a){require(["echarts","echarts/chart/bar","echarts/chart/line","echarts/chart/map"],function(b){var c=b;a.chart&&a.chart.dispose&&a.chart.dispose(),a.chart=c.init(a.container),a.chart.setOption(a.option,!0),window.onresize=a.option.resize})},optionCategory:{CommonOption:{tooltip:{trigger:"axis"},toolbox:{show:!1,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}}},PieOption:function(b,d){var e=c.ChartDataFormate(b),f={legend:{orient:"vertical",x:"left",y:"center",data:e.category},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)",show:!0},series:[{name:d||"",type:"pie",radius:["50%","95%"],center:["70%","48%"],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{label:{show:!1,position:"center",textStyle:{fontSize:"11",fontWeight:"normal"}}}},data:e.data}]},g=a.extend({},this.CommonOption,f);return g},BarOption:function(b){var d=c.ChartDataFormate(b),e={backgroundColor:"#f7f7f7",color:["#ff9c1b"],title:{text:d.title,subtext:d.sub,textStyle:{color:"#ff9c1b"}},tooltip:{trigger:"axis"},legend:{data:[d.name],selectedMode:!1},calculable:!1,xAxis:[{type:"category",data:d.month}],yAxis:[{type:"value"}],series:[{name:"交易额",type:"bar",data:d.money,tooltip:{formatter:"时间:{b}<br/>交易额:{c}"}}]},f=a.extend({},this.CommonOption,e);return f}},ChartDataFormate:function(a){for(var b=[],c=[],d=a.length,e=0;e<d;e++)b.push(a[e].name||""),c.push({name:a[e].name,value:a[e].value||0});return{category:b,data:c}}};return c});